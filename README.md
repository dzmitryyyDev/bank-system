# BANK_SYSTEM

## Описание проекта

Проект **bank-system** — это backend-приложение на Spring Boot, реализующее банковскую систему с использованием современных технологий для обеспечения безопасности, производительности и масштабируемости.

---

## Использованные технологии

- **Java 17**
- **Spring Boot 3.5.0**
- **Spring Data JPA** для работы с базой данных PostgreSQL
- **PostgreSQL** — основная реляционная база данных
- **Spring Security** — управление аутентификацией и авторизацией
- **JWT (JSON Web Token)** — механизм аутентификации
- **Spring Data Redis** — кеширование и быстрый доступ к данным через Redis
- **Liquibase** — управление миграциями базы данных
- **MapStruct** — удобное маппирование DTO и сущностей
- **Springdoc OpenAPI** — автогенерация документации API
- **Testcontainers** — интеграционные тесты с контейнерами PostgreSQL и Redis
- **Lombok** — сокращение шаблонного кода (геттеры, сеттеры и пр.)

---

## Особенности и решения

- Используется кеширование пользователей через Redis с настройкой TTL для повышения производительности.
- Управление миграциями базы данных через Liquibase гарантирует контроль версий схемы.
- JWT для безопасности API с гибкой настройкой времени жизни токена.
- Тесты запускаются на изолированном окружении с помощью Testcontainers, что повышает надежность.
- Проект структурирован по лучшим практикам Spring Boot.

---

## Инструкция по запуску

### Требования

- Docker и Docker Compose
- Java 17
- Maven (для сборки проекта)

### Запуск с использованием Docker Compose

В проекте присутствует файл `docker-compose.yml` для удобного запуска всего приложения.

1. Создайте .env файл на основе .env.example (по желанию измените значения переменных среды):

```bash
cp .env.example .env
```

2. Запустите приложение с помощью Docker Compose:

```bash
docker-compose up -d
```

### Документация доступна по адресу http://{host}:{port}/swagger-ui.html

### Для тестирования API были добавлены тестовые users, emails, phones and accounts

#### Пользователи

| ID | Email              | Пароль   |
|----|--------------------|----------|
| 1  | user1@example.com  | password |
| 2  | user2@example.com  | password |
| 3  | user3@example.com  | password |

Для тестирования API необходим JWT токен, который можно получить в Auth Controller, передав креды пользователя.